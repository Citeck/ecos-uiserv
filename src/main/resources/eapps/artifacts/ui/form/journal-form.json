{
  "id": "journal-form",
  "formKey": "journal-form",
  "title": {
    "en": "Journal form"
  },
  "description": {},
  "customModule": null,
  "typeRef": "emodel/type@journal",
  "width": "lg",
  "system": true,
  "i18n": {
    "ru": {
      "Load columns": "Загрузить колонки",
      "Load columns from external source": "Загрузить колонки из внешнего источника",
      "Auto columns URL": "URL для загрузки колонок",
      "Method": "Метод (GET или POST)",
      "Label": "Наименование",
      "System name": "Системное имя",
      "Column attribute": "Атрибут для загрузки данных (по умолчанию используется системное имя)",
      "Data type": "Тип данных",
      "Settings": "Настройки",
      "Attributes": "Атрибуты",
      "Flags": "Флаги",
      "Visible": "Видим по умолчанию (если \"Нет\", то пользователь может добавить колонку через настройки)",
      "Searchable": "Доступен ли поиск по атрибуту?",
      "Sortable": "Доступна ли сортировка?",
      "Groupable": "Доступна ли группировка?",
      "Editable": "Доступно ли редактирование в таблице?",
      "Hidden": "Атрибут спрятан от пользователя?",
      "Main tab": "Основное",
      "Columns tab": "Колонки",
      "Group Actions": "Групповые действия",
      "Module ID": "Идентификатор журнала",
      "Journal Label": "Наименование журнала",
      "Meta record": "Запись для загрузки метаданных для атрибутов",
      "Predicate": "Предикат (дополнительные условия для фильтрации записей в журнале)",
      "Sort by": "Сортировка",
      "Case Type": "Тип кейса",
      "Source ID": "Идентификатор источника данных",
      "ActionFromType": "Добавить действия из типа",
      "Attribute": "Атрибут",
      "Ascending": "По возрастанию",
      "Key": "Ключ",
      "Value": "Значение",
      "Add Another": "Добавить",
      "Group actions": "Групповые действия",
      "Save": "Сохранить",
      "Control": "Контрол",
      "Config": "Конфигурация",
      "columnFormatter": "Форматтер",
      "tooltip.actionFromType": "empty (null) - если actions и actionsDef пустые, то добавляем действия из типа\ntrue - всегда добавляем действия из типа\nfalse - никогда не добавляем из типа"
    },
    "en": {
      "Load columns": "Load columns",
      "Load columns from external source": "Load columns from external source",
      "Auto columns URL": "URL to load columns config ",
      "Method": "Method (GET or POST)",
      "Label": "Наименование",
      "System name": "System name",
      "Column attribute": "Attribute to load data (system name used by default)",
      "Data type": "Data type",
      "Settings": "Settings",
      "Attributes": "Attributes",
      "Flags": "Flags",
      "Visible": "Visible by default (if \"False\" user can add column in settings)",
      "Searchable": "Is search by the attribute allowed?",
      "Sortable": "Is sorting allowed?",
      "Groupable": "Is grouping allowed?",
      "Editable": "Is in-table editing allowed?",
      "Hidden": "Is attribute hidden for user?",
      "Main tab": "Main",
      "Columns tab": "Columns",
      "Group Actions": "Group Actions",
      "Module ID": "Journal Id",
      "Journal Label": "Journal Label",
      "Meta record": "Record to load metadata for attributes",
      "Predicate": "Predicate (additional filter conditions for records in journal)",
      "Sort by": "Sort by",
      "Case Type": "Case Type",
      "Source ID": "Data source ID",
      "ActionFromType": "Add actions form type",
      "Attribute": "Attribute",
      "Ascending": "Ascending",
      "Key": "Key",
      "Value": "Value",
      "Add Another": "Add Another",
      "Group actions": "Group actions",
      "Save": "Save",
      "Control": "Control",
      "Config": "Config",
      "columnFormatter": "Formatter",
      "tooltip.actionFromType": "empty (null) - if `actions` and `actionsDef` is empty, then add actions from type\ntrue - always add actions from type\nfalse - never add actions from type",
      "Add columns": "Add columns"
    }
  },
  "definition": {
    "components": [
      {
        "label": {
          "ru": "Tabs"
        },
        "key": "tabs2",
        "components": [
          {
            "label": {
              "en": "Main",
              "ru": "Основные"
            },
            "key": "main",
            "components": [
              {
                "label": {
                  "ru": "Panel"
                },
                "scrollableContent": true,
                "key": "panel3",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "label": {
                      "ru": "Columns"
                    },
                    "columns": [
                      {
                        "components": [
                          {
                            "label": {
                              "ru": "Идентификатор журнала",
                              "en": "Journal ID"
                            },
                            "key": "id",
                            "validate": {
                              "required": true
                            },
                            "defaultValue": "",
                            "refreshOn": [],
                            "optionalWhenDisabled": false,
                            "logic": [
                              {
                                "name": "disabled",
                                "trigger": {
                                  "type": "javascript",
                                  "javascript": "result = _.get(instance, 'root.options.formMode') !== 'CREATE';"
                                },
                                "actions": [
                                  {
                                    "name": "setDisabled",
                                    "type": "property",
                                    "property": {
                                      "label": "Disabled",
                                      "value": "disabled",
                                      "type": "boolean"
                                    },
                                    "state": "true"
                                  }
                                ]
                              }
                            ],
                            "type": "textfield",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Название журнала",
                              "en": "Journal name"
                            },
                            "key": "name",
                            "validate": {
                              "required": true
                            },
                            "refreshOn": [],
                            "optionalWhenDisabled": false,
                            "type": "mlText",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Разрешить редактирование значений в ячейках",
                              "en": "Allow to edit values in cells"
                            },
                            "key": "editable",
                            "type": "checkbox",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Добавить колонки",
                              "en": "Add columns"
                            },
                            "action": "custom",
                            "state": "",
                            "showValidations": false,
                            "custom": "\nlet formInstance = instance.root;\nformInstance.showErrors([]);\n\nconst formData = submission.data || {};\nvar sourceId = formData.sourceId;\nif (!!sourceId) {\n    sourceId = Promise.resolve(sourceId);\n} else {\n    var type = formData.typeRef;\n    if (!type) {\n        formInstance.showErrors(\"Вы должны указать тип или sourceId\");       \n        return;\n    }\n    var resolvedType = type.replace(\"emodel/type@\", \"emodel/rtype@\");\n    sourceId = Citeck.Records.get(resolvedType).load('sourceId?str', true);\n}\n\nsourceId.then(function(srcId) { \n\n    if (!srcId) {\n        formInstance.showErrors(\"В типе не найден sourceId\");\n        return;\n    }\n\n    let sourceDaoId = \"source\";\n    let journalSourceId = srcId;\n\n    const sourceIdSlashIdx = journalSourceId.indexOf('/');\n    if (sourceIdSlashIdx > 0) {\n        sourceDaoId = journalSourceId.substring(0, sourceIdSlashIdx) + \"/\" + sourceDaoId;\n        journalSourceId = journalSourceId.substring(sourceIdSlashIdx + 1);\n    }\n\n    let sourceInfoId = Citeck.Records.get(sourceDaoId + '@' + journalSourceId);\n    Citeck.Records.get(sourceInfoId).load('columnsSourceId').then(columnsSourceId => {\n\n        if (!columnsSourceId) {\n            formInstance.showErrors(\"Для данного источника данных не настроен источник с колонками.\")\n            return;\n        }\n\n        const currentColumnsSet = {};\n        const currentColumns = _.get(submission, 'data.columns', [])\n        for (let column of currentColumns) {\n            currentColumnsSet[column.id || ''] = true;\n        }\n\n        const applyAutoColumns = (columns) => {\n\n            columns = columns.filter(c => !c.id || !currentColumnsSet[c.id]);\n\n            if (columns.length) {\n                submission = {\n                    ...submission,\n                    data: {\n                        ...submission.data,\n                        columns: [\n                            ...submission.data.columns,\n                            ...columns\n                        ]\n                    }\n                }\n                formInstance.submission = submission;\n            }\n        }\n\n        Citeck.Dialogs.showFormDialog({\n            title: 'Выбор колонок',\n            showDefaultButtons: true,\n            formDefinition: {\n                components: [\n                    {\n                        label: 'Колонки',\n                        key: 'selected-columns',\n                        type: \"selectJournal\",\n                        queryData: submission,\n                        customSourceId: columnsSourceId,\n                        journalId: 'journal-columns',\n                        multiple: true\n                    }\n                ]\n            },\n            onSubmit: submission => {\n                let columns = submission.data['selected-columns'] || [];\n                console.log('selected columns', columns);\n                Citeck.Records.get(columns)\n                    .load({name: 'name{ru,en}', id: 'columnId?str'})\n                    .then(applyAutoColumns)\n                    .catch(e => formInstance.showErrors(e));\n            }\n        });\n\n    }).catch(() => formInstance.showErrors(\"Ошибка при загрузке информации по источнику данных\"));\n});\n",
                            "block": true,
                            "key": "submit23",
                            "type": "button",
                            "input": true
                          }
                        ],
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "index": 0
                      },
                      {
                        "index": 1,
                        "type": "column",
                        "input": false,
                        "key": "column",
                        "components": [
                          {
                            "label": "ActionFromType",
                            "tooltip": "tooltip.actionFromType",
                            "hasThreeStates": true,
                            "key": "actionFromType",
                            "type": "checkbox",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Actions"
                            },
                            "multiple": true,
                            "journalId": "ui-actions",
                            "key": "actions",
                            "type": "selectJournal",
                            "input": true,
                            "reorder": false
                          },
                          {
                            "label": {
                              "ru": "Тип данных"
                            },
                            "journalId": "ecos-types",
                            "key": "typeRef",
                            "type": "selectJournal",
                            "input": true
                          }
                        ]
                      }
                    ],
                    "key": "columns4",
                    "type": "columns",
                    "input": false
                  },
                  {
                    "label": "Свойства столбца",
                    "disableAddingRemovingRows": false,
                    "addAnother": "",
                    "addAnotherPosition": "bottom",
                    "removePlacement": "col",
                    "defaultOpen": false,
                    "layoutFixed": false,
                    "enableRowGroups": false,
                    "multiple": true,
                    "reorder": true,
                    "defaultValue": [
                      {
                        "name": {
                          "ru": "",
                          "en": ""
                        },
                        "type": "",
                        "id": "",
                        "submit4": false,
                        "computed": [
                          null
                        ]
                      }
                    ],
                    "validate": {
                      "minLength": "",
                      "maxLength": ""
                    },
                    "key": "columns",
                    "type": "datagrid",
                    "input": true,
                    "components": [
                      {
                        "label": {
                          "ru": "Системное имя"
                        },
                        "defaultValue": "",
                        "key": "id",
                        "type": "textfield",
                        "input": true,
                        "row": "0-0"
                      },
                      {
                        "label": {
                          "ru": "Название колонки",
                          "en": "Column name"
                        },
                        "key": "name",
                        "type": "mlText",
                        "input": true,
                        "row": "0-1"
                      },
                      {
                        "label": {
                          "ru": "Тип данных",
                          "en": "Data type"
                        },
                        "key": "panel",
                        "customClass": "p-0",
                        "refreshOn": [],
                        "type": "panel",
                        "input": false,
                        "components": [
                          {
                            "label": {
                              "ru": "Тип данных",
                              "en": "Data type"
                            },
                            "hideLabel": true,
                            "key": "type",
                            "customClass": "m-0",
                            "data": {
                              "values": [
                                {
                                  "label": "Ассоциация",
                                  "value": "ASSOC"
                                },
                                {
                                  "label": "Человек",
                                  "value": "PERSON"
                                },
                                {
                                  "label": "Группа",
                                  "value": "AUTHORITY_GROUP"
                                },
                                {
                                  "label": "Группа или человек",
                                  "value": "AUTHORITY"
                                },
                                {
                                  "label": "Текст",
                                  "value": "TEXT"
                                },
                                {
                                  "label": "Мультиязычный текст",
                                  "value": "MLTEXT"
                                },
                                {
                                  "label": "Число",
                                  "value": "NUMBER"
                                },
                                {
                                  "label": "Булево",
                                  "value": "BOOLEAN"
                                },
                                {
                                  "label": "Дата",
                                  "value": "DATE"
                                },
                                {
                                  "label": "Дата и время",
                                  "value": "DATETIME"
                                },
                                {
                                  "label": "Контент",
                                  "value": "CONTENT"
                                }
                              ]
                            },
                            "valueProperty": "value",
                            "defaultValue": "",
                            "refreshOn": [],
                            "type": "select",
                            "input": true
                          }
                        ],
                        "row": "0-2"
                      },
                      {
                        "label": {
                          "ru": "Дополнительно",
                          "en": "Additional"
                        },
                        "key": "panel2",
                        "refreshOn": [],
                        "type": "panel",
                        "input": false,
                        "components": [
                          {
                            "label": {
                              "ru": "Дополнительно",
                              "en": "Additional"
                            },
                            "key": "submit4",
                            "action": "custom",
                            "state": "",
                            "showValidations": false,
                            "custom": "\nvar currentRow = row;\n\nCiteck.EcosFormUtils.getFormById('uiserv/form@journal-column-data-form', {\n    definition: 'definition?json'\n}).then(function(formConfig) {\n\n    var inputs = [\n        'attribute',\n        'editor',\n        'formatter',\n        'searchable',\n        'searchableByText',\n        'sortable',\n        'groupable',\n        'editable',\n        'visible',\n        'hidden',\n        'multiple',\n        'computed',\n        'properties',\n        'searchConfig',\n        'headerFilterEditor'\n    ];\n\n    var formData = {};\n\n    for (var i = 0; i < inputs.length; i++) {\n        var att = inputs[i];\n        var value = currentRow[att];\n        if (value === undefined) {\n            value = null;\n        } else if (Array.isArray(value)) {\n            value = value.filter(function(it) { return !!it; });\n        }\n        formData[att] = value;\n    }\n\n    Citeck.Dialogs.showFormDialog({\n        title: 'Column additional config',\n        showDefaultButtons: true,\n        formDefinition: formConfig.definition,\n        formData: formData,\n        onSubmit: submission => {\n            var data = submission.data || {};\n            for (var i = 0; i < inputs.length; i++) {\n                var att = inputs[i];\n                currentRow[att] = data[att];\n            }\n        }\n    })\n});\n",
                            "block": true,
                            "refreshOn": [],
                            "optionalWhenDisabled": false,
                            "type": "button",
                            "input": true,
                            "row": "0-2"
                          },
                          {
                            "label": {
                              "ru": "attribute"
                            },
                            "key": "attribute",
                            "refreshOn": [],
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "editor"
                            },
                            "key": "editor",
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "headerFilterEditor"
                            },
                            "key": "headerFilterEditor",
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "formatter"
                            },
                            "key": "formatter",
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "searchable"
                            },
                            "key": "searchable",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "searchableByText"
                            },
                            "key": "searchableByText",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "sortable"
                            },
                            "key": "sortable",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "groupable"
                            },
                            "key": "groupable",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "editable"
                            },
                            "key": "editable",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "visible"
                            },
                            "key": "visible",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Конфигурация поиска",
                              "en": "Search config"
                            },
                            "key": "searchConfig",
                            "refreshOn": [],
                            "optionalWhenDisabled": false,
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "hidden"
                            },
                            "key": "hidden",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "multiple"
                            },
                            "key": "multiple",
                            "properties": {
                              "dataType": "bool"
                            },
                            "type": "hidden",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "computed"
                            },
                            "multiple": true,
                            "key": "computed",
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true,
                            "reorder": false
                          },
                          {
                            "label": {
                              "ru": "properties"
                            },
                            "key": "properties",
                            "properties": {
                              "dataType": "json"
                            },
                            "type": "hidden",
                            "input": true
                          }
                        ],
                        "row": "0-3"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "label": {
              "ru": "Действия",
              "en": "Actions"
            },
            "key": "actions",
            "components": [
              {
                "label": {
                  "ru": "Panel"
                },
                "key": "panel4",
                "type": "panel",
                "input": false,
                "components": [
                  {
                    "label": {
                      "ru": "Конфигурация",
                      "en": "Configuration"
                    },
                    "multiple": true,
                    "key": "actionsDef",
                    "validate": {
                      "minLength": "",
                      "maxLength": ""
                    },
                    "disableAddingRemovingRows": false,
                    "addAnother": "",
                    "addAnotherPosition": "bottom",
                    "removePlacement": "col",
                    "defaultOpen": false,
                    "layoutFixed": true,
                    "enableRowGroups": false,
                    "reorder": false,
                    "defaultValue": [
                      {
                        "textField": "",
                        "id2": "",
                        "mlText": {
                          "ru": "",
                          "en": ""
                        },
                        "name2": {
                          "ru": "",
                          "en": ""
                        },
                        "type2": "",
                        "value": "Value",
                        "config": {},
                        "type": "",
                        "id": "",
                        "name": {
                          "ru": "",
                          "en": ""
                        },
                        "configMap": {},
                        "preActionModule": "",
                        "execForRecordsBatchSize": 0,
                        "execForRecordsParallelBatchesCount": 1,
                        "timeoutErrorMessage": {
                          "ru": "",
                          "en": ""
                        },
                        "container": {},
                        "features": {
                          "execForRecord": false,
                          "execForRecords": false,
                          "execForQuery": false
                        },
                        "checkbox": false,
                        "url": "",
                        "objectObject2": "",
                        "horizontalLine": [],
                        "execForQueryOptions": {
                          "execAsForRecords": false
                        },
                        "textArea": "",
                        "predicate2": "",
                        "actionsDef": {
                          "predicate": ""
                        },
                        "predicate": "",
                        "predicate:json": "",
                        "confirm": {
                          "title": {
                            "ru": "",
                            "en": ""
                          },
                          "message": {
                            "ru": "",
                            "en": ""
                          },
                          "formRef": "",
                          "value": "Value",
                          "attributesMapping": {}
                        },
                        "execForQueryConfig": {
                          "execAsForRecords": false
                        }
                      }
                    ],
                    "refreshOn": [],
                    "type": "datagrid",
                    "input": true,
                    "components": [
                      {
                        "key": "panel5",
                        "type": "panel",
                        "input": false,
                        "components": [
                          {
                            "label": {
                              "ru": "ID",
                              "en": "ID"
                            },
                            "key": "id",
                            "defaultValue": "",
                            "refreshOn": [],
                            "type": "textfield",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Имя",
                              "en": "Name"
                            },
                            "key": "name",
                            "type": "mlText",
                            "input": true
                          },
                          {
                            "useNegativeIndents": false,
                            "input": true,
                            "key": "horizontalLine",
                            "type": "horizontalLine"
                          },
                          {
                            "label": {
                              "ru": "Размер батча",
                              "en": "Batch size"
                            },
                            "key": "execForRecordsBatchSize",
                            "validate": {
                              "integer": false
                            },
                            "clearOnHide": false,
                            "isBigNumber": false,
                            "delimiterValue": " ",
                            "refreshOn": [],
                            "defaultValue": 0,
                            "type": "number",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Количество параллельных батчей",
                              "en": "Parallel batches count"
                            },
                            "key": "execForRecordsParallelBatchesCount",
                            "validate": {
                              "integer": false
                            },
                            "clearOnHide": false,
                            "isBigNumber": false,
                            "delimiterValue": " ",
                            "refreshOn": [],
                            "defaultValue": 1,
                            "type": "number",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Сообщение при ошибке timeout",
                              "en": "Timeout error message"
                            },
                            "key": "timeoutErrorMessage",
                            "clearOnHide": false,
                            "refreshOn": [],
                            "type": "mlText",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Предикат",
                              "en": "Action Predicate"
                            },
                            "key": "predicate",
                            "editor": "ace",
                            "defaultValue": "",
                            "inputFormat": "raw",
                            "refreshOn": [],
                            "properties": {
                              "dataType": "json"
                            },
                            "as": "json",
                            "type": "textarea",
                            "input": true
                          }
                        ],
                        "row": "0-0"
                      },
                      {
                        "key": "panel6",
                        "type": "panel",
                        "input": false,
                        "components": [
                          {
                            "label": {
                              "ru": "Тип",
                              "en": "Type"
                            },
                            "defaultValue": "",
                            "key": "type",
                            "type": "textfield",
                            "input": true
                          },
                          {
                            "label": {
                              "en": "Pre Process Module",
                              "ru": "Модуль предварительной обработки"
                            },
                            "tooltip": {
                              "en": "Link to a module, which contains JS code",
                              "ru": "Ссылка на модуль, содержащий JS код"
                            },
                            "key": "preActionModule",
                            "defaultValue": "",
                            "refreshOn": [],
                            "type": "textfield",
                            "input": true
                          },
                          {
                            "label": {
                              "ru": "Конфигурация",
                              "en": "Config"
                            },
                            "key": "configMap",
                            "keyLabel": "",
                            "refreshOn": [],
                            "type": "datamap",
                            "input": true,
                            "valueComponent": {
                              "label": {
                                "ru": "Значение",
                                "en": "Value"
                              },
                              "key": "value",
                              "defaultValue": "Value",
                              "refreshOn": [],
                              "type": "textfield",
                              "input": true
                            }
                          },
                          {
                            "label": {
                              "ru": "Форма подтверждения",
                              "en": "Config form config"
                            },
                            "key": "confirm",
                            "clearOnHide": false,
                            "refreshOn": [],
                            "type": "container",
                            "input": true,
                            "components": [
                              {
                                "label": {
                                  "ru": "Название",
                                  "en": "Title"
                                },
                                "key": "title",
                                "refreshOn": [],
                                "validateOn": "blur",
                                "type": "mlText",
                                "input": true
                              },
                              {
                                "label": {
                                  "ru": "Текст подтверждения",
                                  "en": "Message"
                                },
                                "key": "message",
                                "refreshOn": [],
                                "validateOn": "blur",
                                "type": "mlText",
                                "input": true
                              },
                              {
                                "label": {
                                  "ru": "Форма",
                                  "en": "Form ref"
                                },
                                "key": "formRef",
                                "journalId": "ecos-forms",
                                "queryData": "",
                                "refreshOn": [],
                                "type": "selectJournal",
                                "input": true
                              },
                              {
                                "label": {
                                  "ru": "Параметры формы подтверждения",
                                  "en": "Config form config"
                                },
                                "key": "attributesMapping",
                                "keyLabel": "",
                                "clearOnHide": false,
                                "refreshOn": [],
                                "type": "datamap",
                                "input": true,
                                "valueComponent": {
                                  "label": {
                                    "ru": "Значение",
                                    "en": "Value"
                                  },
                                  "key": "value",
                                  "defaultValue": "Value",
                                  "refreshOn": [],
                                  "type": "textfield",
                                  "input": true
                                }
                              }
                            ]
                          },
                          {
                            "label": {
                              "en": "Applicability",
                              "ru": "Применимость"
                            },
                            "tooltip": {
                              "ru": "Действие доступно для одной записи, нескольких или запрос",
                              "en": "The action is available for a single entry, multiple entries, or a query"
                            },
                            "key": "features",
                            "refreshOn": [],
                            "type": "container",
                            "input": true,
                            "components": [
                              {
                                "label": {
                                  "ru": "Columns"
                                },
                                "key": "objectObject",
                                "inlineColumns": true,
                                "columns": [
                                  {
                                    "components": [
                                      {
                                        "label": {
                                          "en": "For Record",
                                          "ru": "Для Записи"
                                        },
                                        "key": "execForRecord",
                                        "refreshOn": [],
                                        "type": "checkbox",
                                        "input": true
                                      }
                                    ],
                                    "md": 4,
                                    "type": "column",
                                    "input": false,
                                    "key": "column",
                                    "index": 0
                                  },
                                  {
                                    "md": 4,
                                    "type": "column",
                                    "input": false,
                                    "key": "column",
                                    "index": 1,
                                    "components": [
                                      {
                                        "label": {
                                          "ru": "Для Записей",
                                          "en": "For Records"
                                        },
                                        "key": "execForRecords",
                                        "refreshOn": [],
                                        "type": "checkbox",
                                        "input": true
                                      }
                                    ]
                                  },
                                  {
                                    "md": 4,
                                    "type": "column",
                                    "input": false,
                                    "key": "column",
                                    "index": 2,
                                    "components": [
                                      {
                                        "label": {
                                          "ru": "Для Запроса",
                                          "en": "For Query"
                                        },
                                        "key": "execForQuery",
                                        "refreshOn": [],
                                        "type": "checkbox",
                                        "input": true
                                      }
                                    ]
                                  }
                                ],
                                "type": "columns",
                                "input": false
                              }
                            ]
                          },
                          {
                            "label": {
                              "ru": "Параметры действия над отфильтрованными записями",
                              "en": "Parameters of action upon filtered records"
                            },
                            "key": "execForQueryConfig",
                            "conditional": {
                              "show": "true",
                              "when": "execForQuery",
                              "eq": "true"
                            },
                            "refreshOn": [],
                            "type": "container",
                            "input": true,
                            "components": [
                              {
                                "label": {
                                  "ru": "Выполнить как Для Записей",
                                  "en": "Execute As For Records"
                                },
                                "key": "execAsForRecords",
                                "labelPosition": "",
                                "refreshOn": [],
                                "type": "checkbox",
                                "hasThreeStates": true,
                                "input": true
                              }
                            ]
                          }
                        ],
                        "row": "0-1"
                      }
                    ]
                  }
                ],
                "tab": 1
              }
            ]
          },
          {
            "label": {
              "en": "Advanced",
              "ru": "Расширенные настройки"
            },
            "key": "advanced",
            "components": [
              {
                "label": {
                  "ru": "Columns"
                },
                "columns": [
                  {
                    "components": [
                      {
                        "label": {
                          "en": "Source ID",
                          "ru": "Идентификатор источника данных"
                        },
                        "description": {
                          "ru": "По умолчанию загружается из связанного типа"
                        },
                        "defaultValue": "",
                        "key": "sourceId",
                        "type": "textfield",
                        "input": true
                      },
                      {
                        "label": {
                          "ru": "Предикат",
                          "en": "Predicate"
                        },
                        "description": {
                          "ru": "Дополнительные условия поиска записей в журнале",
                          "en": "Additional conditions to search records in journal"
                        },
                        "editor": "ace",
                        "defaultValue": "",
                        "key": "predicate",
                        "as": "",
                        "type": "textarea",
                        "input": true
                      },
                      {
                        "label": {
                          "ru": "Дополнительные свойства",
                          "en": "Additional settings"
                        },
                        "keyLabel": "",
                        "key": "properties",
                        "type": "datamap",
                        "input": true
                      },
                      {
                        "label": {
                          "en": "Default filters",
                          "ru": "Фильтры по умолчанию"
                        },
                        "key": "defaultFilters",
                        "multiple": true,
                        "defaultValue": "",
                        "refreshOn": [],
                        "optionalWhenDisabled": false,
                        "type": "textfield",
                        "input": true,
                        "addAnother": "btn.add-another",
                        "reorder": false
                      }
                    ],
                    "type": "column",
                    "input": false,
                    "key": "column",
                    "index": 0
                  },
                  {
                    "index": 1,
                    "type": "column",
                    "input": false,
                    "key": "column",
                    "components": [
                      {
                        "label": {
                          "ru": "Группировать по",
                          "en": "Group by"
                        },
                        "multiple": true,
                        "reorder": true,
                        "defaultValue": [
                          ""
                        ],
                        "key": "groupBy",
                        "type": "textfield",
                        "input": true
                      },
                      {
                        "label": {
                          "ru": "Сортировка по умолчанию",
                          "en": "Default sort by"
                        },
                        "disableAddingRemovingRows": false,
                        "addAnother": "",
                        "addAnotherPosition": "bottom",
                        "removePlacement": "col",
                        "defaultOpen": false,
                        "layoutFixed": false,
                        "enableRowGroups": false,
                        "multiple": true,
                        "reorder": false,
                        "defaultValue": [
                          {
                            "attribute": "",
                            "ascending": false
                          }
                        ],
                        "validate": {
                          "minLength": "",
                          "maxLength": ""
                        },
                        "key": "defaultSortBy",
                        "type": "datagrid",
                        "input": true,
                        "components": [
                          {
                            "label": {
                              "ru": "Атрибут",
                              "en": "Attribute"
                            },
                            "defaultValue": "",
                            "key": "attribute",
                            "type": "textfield",
                            "input": true,
                            "row": "0-0"
                          },
                          {
                            "label": {
                              "ru": "По возрастанию",
                              "en": "Ascending"
                            },
                            "labelPosition": "",
                            "key": "ascending",
                            "type": "checkbox",
                            "input": true,
                            "row": "0-1"
                          }
                        ]
                      },
                      {
                        "label": {
                          "ru": "Search Config"
                        },
                        "key": "searchConfig",
                        "refreshOn": [],
                        "optionalWhenDisabled": false,
                        "type": "container",
                        "input": true,
                        "components": [
                          {
                            "label": {
                              "ru": "Delimiters"
                            },
                            "key": "delimiters",
                            "multiple": true,
                            "defaultValue": "",
                            "refreshOn": [],
                            "optionalWhenDisabled": false,
                            "type": "textfield",
                            "input": true,
                            "reorder": false
                          }
                        ]
                      }
                    ]
                  }
                ],
                "key": "columns3",
                "type": "columns",
                "input": false,
                "tab": 2
              }
            ]
          }
        ],
        "type": "tabs",
        "input": false
      },
      {
        "label": {
          "ru": "Actions"
        },
        "columns": [
          {
            "components": [],
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "index": 0
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "index": 1,
            "components": []
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "index": 2,
            "components": [
              {
                "label": {
                  "ru": "Отменить",
                  "en": "Cancel"
                },
                "action": "event",
                "state": "",
                "showValidations": false,
                "event": "cancel",
                "block": true,
                "key": "submit3",
                "type": "button",
                "input": true
              }
            ]
          },
          {
            "md": 3,
            "type": "column",
            "input": false,
            "key": "column",
            "index": 3,
            "components": [
              {
                "label": {
                  "ru": "Сохранить",
                  "en": "Save"
                },
                "state": "",
                "theme": "primary",
                "block": true,
                "disableOnInvalid": true,
                "key": "submit",
                "type": "button",
                "input": true
              }
            ]
          }
        ],
        "key": "columns2",
        "type": "columns",
        "input": false
      }
    ]
  },
  "attributes": {}
}
